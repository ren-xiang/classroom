<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>课室管理系统登录</title>
    <link href="../../static/images/me.jpg" th:href="@{/images/me.jpg}" rel="icon" type="image/x-ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.css">
    <link rel="stylesheet" href="dist/css/me.css" th:href="@{/css/me.css}">
    <link rel="stylesheet" href="css/me.css" th:href="@{/css/me.css}">
    <link href="dist/css/bootstrap.min.css" rel="" stylesheet>
    <script src="dist/js/jquery-1.12.4.min.js"></script>
    <script src="plugins/jquery/jquery.min.js"></script>
    <script src="plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript"></script>
</head>

<body>

    <br>
    <br>
    <br>
    <div class="m-container-small m-padded-tb-massive" style="max-width: 30em !important;">
        <div class="ur container">
            <div class="ui middle aligned center aligned grid">
                <div class="column">
                    <h2 class="ui teal image header">
                        <div class="content">
                            登录入口
                        </div>
                    </h2>
                    <form class="ui large form" method="post" action="#" id="loginForm">
                        <div class="ui  segment">
                            <div class="field">
                                <div class="ui left icon input">
                                    <i class="user icon"></i>
                                    <input type="text" name="teacherID" placeholder="用户名"  id="username">
                                </div>
                            </div>
                            <div class="field">
                                <div class="ui left icon input">
                                    <i class="lock icon"></i>
                                    <input type="password" name="password" placeholder="密码"  id="password">
                                </div>
                            </div>
                            <button class="ui fluid large teal submit button" style="margin-bottom: 5px;" id="techer_btn">教师登录</button>
                            <button class="ui fluid large teal submit button" id="admin_btn">管理员登录</button>
                        </div>
                        <!-- <div class="ui error mini message"></div>
                    <div class="ui mini negative message" th:unless="${#strings.isEmpty(message)}" th:text="${message}">用户名和密码错误！</div> -->
                    </form>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.js"></script>


    <script type="text/javascript">
        $().ready(function () {
            /*$('#login').click(function () {
                if ($('#name').val() == '' || $('#password').val() == "") {
                    alert("用户名或密码不能为空");
                }
                else {
                   /!* $.ajax({
                        type: "POST",
                        url="LoginCheck.xxxxx",
                        data: "teacherID" + escape($('#teacherID').val()) + "&password=" + escape($('#password').val()),
                        success: function (msg) {
                            if (msg = 'success') {
                                parent.document.location.href = "teacher.html";
                            }
                            if (msg = 'fail') {
                                alert("密码错误！");
                            }
                        },
                        error: function (XMLHttpRequest, textStatus, thrownError) {

                        }
                    })*!/
                   
                }
            });*/
            $("#techer_btn").click(function () {
                if ($("#username").val() == '' || $("#password").val() == "") {
                    alert("用户名或密码不能为空");
                }else {
                    $.post("loginServlet",$("#loginForm").serialize(),function (data) {
                        if(data.flag){
                            location.href="teacher.html";
                        }else {
                            alert("用户名或密码错误");
                        }
                    })
                }
            });
            $("#admin_btn").click(function () {
                if ($("#username").val() == '' || $("#password").val() == "") {
                    alert("用户名或密码不能为空");
                }
                else {
                    $.post("loginServlet",$("#loginForm").serialize(),function (data) {
                        if(data.flag){
                            location.href="admin.html";
                        }else {
                            alert("用户名或密码错误");
                        }
                    })
                }
            });
        });
    </script>

</body>

</html>